<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.co.kosmo.project_back.user.mapper.UserSelectedCategoryMapper">

    <!-- 회원 관심분야 저장 -->
    <insert id="insertUserCategories">
        INSERT INTO Bg_User_category_mapping (user_id, interest_category_id)
        VALUES
        <foreach collection="categoryIds" item="categoryId" separator=",">
            (#{userId}, #{categoryId})
        </foreach>
    </insert>

    <!-- 회원 관심분야 조회 -->
    <select id="findUserCategory" resultType="int">
        SELECT category_id
        FROM Bg_User_category_mapping
        WHERE user_id = #{userId}
    </select>

    <!-- 회원 관심분야 삭제 -->
    <delete id="deleteCategoriesByUser">
        DELETE FROM Bg_User_category_mapping
        WHERE user_id = #{userId}
    </delete>

    

</mapper>
